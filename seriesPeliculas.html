<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Picks | Coleccionables</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="top-bar text-center small py-1">
    <span>Env√≠os a todo M√©xico ‚Ä¢ Pagos seguros ‚Ä¢ Coleccionables originales</span>
  </div>

  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top main-navbar">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">
        <span class="logo-icon">P</span>icks
      </a>

      <button type="button" id="searchTrigger" class="search-trigger d-none d-lg-flex">
        <span class="search-icon">üîç</span>
        <span class="search-text">Buscar</span>
      </button>

      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center">
            <!--NAVBAR INICIO-->
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#ediciones-especiales">Ediciones especiales</a>
          </li>

          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="fandomDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
               Fandom
            </a>
            <ul class="dropdown-menu" aria-labelledby="fandomDropdown">
              <li><a class="dropdown-item" href="anime.html">Anime</a></li>
              <li><a class="dropdown-item" href="mangas.html">Manga</a></li>
              <li><a class="dropdown-item" href="musica.html">M√∫sica</a></li>
              <li><a class="dropdown-item" href="comics.html">C√≥mics</a></li>
              <li><a class="dropdown-item" href="caricaturas.html">Caricaturas</a></li>
              <li><a class="dropdown-item" href="seriesPeliculas.html">Pel√≠culas y Series</a></li>
            </ul>
          </li>

          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="categoriaDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              Categor√≠a
            </a>
            <ul class="dropdown-menu" aria-labelledby="categoriaDropdown">
              <li><a class="dropdown-item" href="#">Figuras</a></li>
              <li><a class="dropdown-item" href="#">Cartas</a></li>
              <li><a class="dropdown-item" href="#">Llaveros</a></li>
              <li><a class="dropdown-item" href="#">Posters</a></li>
              <li><a class="dropdown-item" href="#">Accesorios</a></li>
              <li><a class="dropdown-item" href="#">C√≥mics</a></li>
            </ul>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#ofertas">Ofertas</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#correo">Correo</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#contacto">Contacto</a>
          </li>

          <li class="nav-item ms-lg-3">
            <button type="button" id="cartTrigger" class="btn btn-outline-secondary btn-sm cart-trigger">
              üõí <span id="cartCount">0</span>
            </button>
          </li>

          <li class="nav-item ms-lg-3">
            <a href="#ofertas" class="btn btn-primary btn-sm">
              Ver colecci√≥n
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div id="searchOverlay" class="search-overlay">
    <div class="search-overlay-backdrop"></div>

    <div class="search-overlay-content">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-lg-8">
            <div class="search-overlay-header">
              <span class="search-icon">üîç</span>
              <input
                id="searchInput"
                type="search"
                class="form-control search-overlay-input"
                placeholder="Buscar coleccionables por nombre, fandom o categor√≠a..."
                aria-label="Buscar"
              />
              <button
                type="button"
                id="searchClose"
                class="btn-close ms-2"
                aria-label="Cerrar"
              ></button>
            </div>
            <p class="search-overlay-helper">
              Ejemplos: ‚Äúfiguras anime‚Äù, ‚Äúcartas hologr√°ficas‚Äù, ‚Äúposter ciudad‚Äù, ‚Äúllaveros Marvel‚Äù.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--CARRITO-->
  <div id="cartOverlay" class="cart-overlay">
    <div class="cart-backdrop"></div>

    <aside class="cart-panel">
      <div class="cart-header">
        <h2 class="cart-title">Tu carrito</h2>
        <button
          type="button"
          id="cartClose"
          class="btn-close"
          aria-label="Cerrar"
        ></button>
      </div>

      <div class="cart-body">
        <div id="cartItems" class="cart-items cart-items-empty">
          Tu carrito est√° vac√≠o.
        </div>
      </div>

      <div class="cart-footer">
        <div class="cart-total">
          <span>Total:</span>
          <span id="cartTotal">MXN$0.00</span>
        </div>
        <button class="btn btn-primary w-100" type="button">
          Ir a pagar
        </button>
      </div>
    </aside>
  </div>
<!--FILTRO DE PRODUCTOS: nota: falta arreglar el filtro ya que aun no sirve correctamente-->
   <section id="productos" class="productos py-4">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3">
                <div class="sidebar-filters shadow-sm p-4 bg-white sticky-lg-top">
                    <h5 class="fw-bold mb-3">Filtrar</h5>
                    <ul class="list-unstyled sidebar-menu">
                        <li class="mb-2"><a href="#" class="sidebar-link active">Todos</a></li>
                        <li class="mb-2"><a href="#" class="sidebar-link">Funkos</a></li>
                        <li class="mb-2"><a href="#" class="sidebar-link">Libros</a></li>
                        <li class="mb-2"><a href="#" class="sidebar-link">South Park</a></li>
                        <li class="mb-2"><a href="#" class="sidebar-link">Princesas</a></li>
                        <li class="mb-2"><a href="#" class="sidebar-link">Peliculas</a></li>
                        <li class="mb-2"><a href="#" class="sidebar-link">Series</a></li>
                        <li class="mb-2"><a href="#" class="sidebar-link">Otros</a></li>
                    </ul>

                    <hr class="my-4" />
                    <!--PUBLICIDAD-->
                    <div class="ad-block bg-danger p-3 text-white text-center rounded">
                        <p class="mb-1 small">MEJORA TU EXPERIENCIA DE COLECCI√ìN</p>
                        <h4 class="fw-bold mb-3">CONTRATA YA!</h4>
                        <p class="lead fw-bold mb-0">POR TAN SOLO $50 PESOS AL MES</p>
                    </div>

                    <hr class="my-4" />
                    <div class="rotating-ad-container" id="rotatingAds">
                        </div>
                </div>
            </div>

            <div class="col-lg-9">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2 class="section-title mb-0">Peliculas y Series</h2>
                    <span class="text-muted small">Mostrando 12 de 36 resultados</span>
                </div>
                <!--TARJETAS DE PELICULAS Y SERIES-->
                <div class="row g-4 product-grid">
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p001">
                        <div class="product-card card shadow-sm text-center" data-name="Al Pollo- Toy Story" data-tags="Al Pollo Toy Story peliculas funkos" data-id="p001">
                            <img src="/moviesandseries-images/AlPolloToyStory.png" class="card-img-top" alt="Al Pollo- Toy Story" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Al Pollo- Toy Story</h6>
                                <p class="product-price fw-bold mb-2">$300.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p001">
                                    VER DETALLES
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p002">
                        <div class="product-card card shadow-sm text-center" data-name="Baymax with mochi - Big Hero" data-tags="Baymax with mochi Big Hero peliculas funkos" data-id="p002">
                            <img src="/moviesandseries-images/Baymax.png" class="card-img-top" alt="Baymax with mochi - Big Hero" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Baymax with mochi - Big Hero</h6>
                                <p class="product-price fw-bold mb-2">$350.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p002">
                                    VER DETALLES
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p003">
                        <div class="product-card card shadow-sm text-center" data-name="Bola de Nieve -El extra√±o mundo de Jack" data-tags="Bola de Nieve -El extra√±o mundo de Jack" data-id="p003">
                            <img src="/moviesandseries-images/BoladeNieveJack.png" class="card-img-top" alt="Bola de Nieve -El extra√±o mundo de Jack" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Bola de Nieve -El extra√±o mundo de Jack</h6>
                                <p class="product-price fw-bold mb-2">$650.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p003">
                                    VER DETALLES
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p004">
                        <div class="product-card card shadow-sm text-center" data-name="Figura Marceline and Bonnie- Hora de Aventura" data-tags="Figura Marceline and Bonnie Hora de Aventura series" data-id="p004">
                            <img src="/moviesandseries-images/bonnieAndMarceline.png" class="card-img-top" alt="Figura Marceline and Bonnie- Hora de Aventura" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Figura Marceline and Bonnie- Hora de Aventura </h6>
                                <p class="product-price fw-bold mb-2">$350.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p004">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p005">
                        <div class="product-card card shadow-sm text-center" data-name="Bowser -Mario Bros" data-tags="Bowser Mario Bros peliculas" data-id="p005">
                            <img src="/moviesandseries-images/bowser.png" class="card-img-top" alt="Bowser -Mario Bros" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Bowser -Mario Bros</h6>
                                <p class="product-price fw-bold mb-2">$352.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p005">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p006">
                        <div class="product-card card shadow-sm text-center" data-name="Funko Chimuelo - Como entrenar a tu drag√≥n" data-tags="Funko Chimuelo Como entrenar a tu drag√≥n peliculas funkos" data-id="p006">
                            <img src="/moviesandseries-images/chimuelo.jpg" class="card-img-top" alt="Funko Chimuelo - Como entrenar a tu drag√≥n" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Funko Chimuelo - Como entrenar a tu drag√≥n</h6>
                                <p class="product-price fw-bold mb-2">$450.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p006">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p007">
                        <div class="product-card card shadow-sm text-center" data-name="Derpy with sussie- Kpop Demon Hunters" data-tags="Derpy with sussie Kpop Demon Hunters funkos peliculas" data-id="p007">
                            <img src="/moviesandseries-images/derpyKPOPDemon.jpg" class="card-img-top" alt="Derpy with sussie- Kpop Demon Hunters" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Derpy with sussie- Kpop Demon Hunters</h6>
                                <p class="product-price fw-bold mb-2">$399.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p007">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p008">
                        <div class="product-card card shadow-sm text-center" data-name="Elphaba - Wicked" data-tags="Elphaba Wicked funkos peliculas" data-id="p008">
                            <img src="/moviesandseries-images/elphabaWicked.png" class="card-img-top" alt="Elphaba - Wicked" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Elphaba - Wicked</h6>
                                <p class="product-price fw-bold mb-2">$356.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p008">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p009">
                        <div class="product-card card shadow-sm text-center" data-name="Funko Elsa - Frozen" data-tags="Funko Elsa Frozen funkos peliculas princesas" data-id="p009">
                            <img src="/moviesandseries-images/elsa.png" class="card-img-top" alt="Funko Elsa - Frozen" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Funko Elsa - Frozen</h6>
                                <p class="product-price fw-bold mb-2">$493.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p009">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p010">
                        <div class="product-card card shadow-sm text-center" data-name="Dj Music Man -FNAF" data-tags="Dj Music Man -FNAF peliculas funkos" data-id="p010">
                            <img src="/moviesandseries-images/fnaf_music.png" class="card-img-top" alt="Dj Music Man -FNAF" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Dj Music Man -FNAF</h6>
                                <p class="product-price fw-bold mb-2">$475.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p010">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p011">
                        <div class="product-card card shadow-sm text-center" data-name="Glinda In Nightgown- Wicked" data-tags="Glinda In Nightgown Wicked funkos peliculas" data-id="p011">
                            <img src="/moviesandseries-images/GlindaInNightgown.png" class="card-img-top" alt="Glinda In Nightgown- Wicked" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Glinda In Nightgown- Wicked</h6>
                                <p class="product-price fw-bold mb-2">$399.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p011">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper" data-product-id="p012">
                        <div class="product-card card shadow-sm text-center" data-name="Figura Baymax- Big Hero" data-tags="Figura Baymax Big Hero peliculas" data-id="p012">
                            <img src="/moviesandseries-images/GrandesHeroesBaymax.png" class="card-img-top" alt="Figura Baymax- Big Hero" />
                            <div class="card-body p-2">
                                <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                                <h6 class="card-title fw-bold product-name">Figura Baymax- Big Hero</h6>
                                <p class="product-price fw-bold mb-2">$453.00</p>
                                <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p012">VER DETALLES</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p013"><div class="product-card card shadow-sm text-center" data-name="Funko Harley Quinn" data-tags="Funko Harley Quinn funkos" data-id="p013"><img src="/moviesandseries-images/HarleyQuinn.png" class="card-img-top" alt="Funko Harley Quinn" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Harley Quinn</h6><p class="product-price fw-bold mb-2">$350.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p013">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p014"><div class="product-card card shadow-sm text-center" data-name="Figura Jack Skellington - El extra√±o mundo de Jack" data-tags="Figura Jack Skellington El extra√±o mundo de Jack peliculas" data-id="p014"><img src="/moviesandseries-images/JackSkellington.png" class="card-img-top" alt="Figura Jack Skellington - El extra√±o mundo de Jack" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Figura Jack Skellington - El extra√±o mundo de Jack</h6><p class="product-price fw-bold mb-2">$290.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p014">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p015"><div class="product-card card shadow-sm text-center" data-name="Funko Jack Sparrow - Piratas del Caribe" data-tags="Funko Jack Sparrow Piratas del Caribe funkos peliculas" data-id="p015"><img src="/moviesandseries-images/JackSparrow.jpg" class="card-img-top" alt="Funko Jack Sparrow - Piratas del Caribe" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Jack Sparrow - Piratas del Caribe</h6><p class="product-price fw-bold mb-2">$350.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p015">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p016"><div class="product-card card shadow-sm text-center" data-name="Funko Jinu Saja Boys - Kpop Demon Hunters" data-tags="Funko Jinu Saja Boys Kpop Demon Hunters funkos peliculas" data-id="p016"><img src="/moviesandseries-images/jinu.jpg" class="card-img-top" alt="Funko Jinu Saja Boys - Kpop Demon Hunters" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Jinu Saja Boys - Kpop Demon Hunters</h6><p class="product-price fw-bold mb-2">$480.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p016">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p017"><div class="product-card card shadow-sm text-center" data-name="Funko Jinx - Arcane" data-tags="Funko Jinx Arcane funkos series" data-id="p017"><img src="/moviesandseries-images/jinx.png" class="card-img-top" alt="Funko Jinx - Arcane" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Jinx - Arcane</h6><p class="product-price fw-bold mb-2">$320.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p017">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p018"><div class="product-card card shadow-sm text-center" data-name="Peluche Kyle Broflovski - South Park" data-tags="Peluche Kyle Broflovski South Park peluches series" data-id="p018"><img src="/moviesandseries-images/kyleBroflovski.png" class="card-img-top" alt="Peluche Kyle Broflovski - South Park" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Peluche Kyle Broflovski - South Park</h6><p class="product-price fw-bold mb-2">$200.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p018">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p019"><div class="product-card card shadow-sm text-center" data-name="La creaci√≥n y el arte de Arcane (Libro)" data-tags="La creaci√≥n y el arte de Arcane (Libro) libros" data-id="p019"><img src="/moviesandseries-images/libroArcane.png" class="card-img-top" alt="La creaci√≥n y el arte de Arcane (Libro)" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">La creaci√≥n y el arte de Arcane (Libro)</h6><p class="product-price fw-bold mb-2">$299.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p019">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p020"><div class="product-card card shadow-sm text-center" data-name="Peluche Lotso - Toy Story" data-tags="Peluche Lotso Toy Story peliculas peluches" data-id="p020"><img src="/moviesandseries-images/lotso.png" class="card-img-top" alt="Peluche Lotso - Toy Story" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Peluche Lotso - Toy Story</h6><p class="product-price fw-bold mb-2">$580.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p020">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p021"><div class="product-card card shadow-sm text-center" data-name="Funko Marceline - Hora de Aventura" data-tags="Funko Marceline Hora de Aventura funkos series" data-id="p021"><img src="/moviesandseries-images/marceline.png" class="card-img-top" alt="Funko Marceline - Hora de Aventura" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Marceline - Hora de Aventura</h6><p class="product-price fw-bold mb-2">$450.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p021">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p022"><div class="product-card card shadow-sm text-center" data-name="Mario Rabbids Sparks of Hope (Figura)" data-tags="Mario Rabbids Sparks of Hope Figura pelicula" data-id="p022"><img src="/moviesandseries-images/mariobros.png" class="card-img-top" alt="Mario Rabbids Sparks of Hope (Figura)" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Mario Rabbids Sparks of Hope (Figura)</h6><p class="product-price fw-bold mb-2">$610.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p022">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p023"><div class="product-card card shadow-sm text-center" data-name="Funko Merida - Valiente" data-tags="Funko Merida Valiente funkos peliculas princesas" data-id="p023"><img src="/moviesandseries-images/merida.png" class="card-img-top" alt="Funko Merida - Valiente" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Merida - Valiente</h6><p class="product-price fw-bold mb-2">$450.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p023">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p024"><div class="product-card card shadow-sm text-center" data-name="Figura Mike Wazowski - Monster University" data-tags="Figura Mike Wazowski Monster University pelicula" data-id="p024"><img src="/moviesandseries-images/MikeWazowski.png" class="card-img-top" alt="Figura Mike Wazowski - Monster University" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Figura Mike Wazowski - Monster University</h6><p class="product-price fw-bold mb-2">$200.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p024">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p025"><div class="product-card card shadow-sm text-center" data-name="Funko Norbot - Wallace y Gromit" data-tags="Funko Norbot Wallace y Gromit funkos" data-id="p025"><img src="/moviesandseries-images/norbot.png" class="card-img-top" alt="Funko Norbot - Wallace y Gromit" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Norbot - Wallace y Gromit</h6><p class="product-price fw-bold mb-2">$250.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p025">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p026"><div class="product-card card shadow-sm text-center" data-name="Funko Olaf - Frozen" data-tags="Funko Olaf Frozen funkos peliculas" data-id="p026"><img src="/moviesandseries-images/olaf.png" class="card-img-top" alt="Funko Olaf - Frozen" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Olaf - Frozen</h6><p class="product-price fw-bold mb-2">$350.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p026">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p027"><div class="product-card card shadow-sm text-center" data-name="Pines South Park" data-tags="Pines South Park otros" data-id="p027"><img src="/moviesandseries-images/PinesSouthPark.png" class="card-img-top" alt="Pines South Park" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Pines South Park</h6><p class="product-price fw-bold mb-2">$40.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p027">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p028"><div class="product-card card shadow-sm text-center" data-name="Ralph El demodelor Funko" data-tags="Ralph El demodelor Funko funkos peliculas" data-id="p028"><img src="/moviesandseries-images/RalphElDemodelor.png" class="card-img-top" alt="Ralph El demodelor Funko" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Ralph El demodelor Funko</h6><p class="product-price fw-bold mb-2">$450.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p028">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p029"><div class="product-card card shadow-sm text-center" data-name="Funko Rapunzel - Enrededados" data-tags="Funko Rapunzel Enrededados funkos princesas peliculas" data-id="p029"><img src="/moviesandseries-images/rapunzel.png" class="card-img-top" alt="Funko Rapunzel - Enrededados" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Rapunzel - Enrededados</h6><p class="product-price fw-bold mb-2">$320.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p029">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p030"><div class="product-card card shadow-sm text-center" data-name="Funko Rick - Rick And Morty" data-tags="Funko Rick Rick And Morty funkos series" data-id="p030"><img src="/moviesandseries-images/rickAndMorty.jpg" class="card-img-top" alt="Funko Rick - Rick And Morty" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Funko Rick - Rick And Morty</h6><p class="product-price fw-bold mb-2">$399.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p030">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p031"><div class="product-card card shadow-sm text-center" data-name="Termo Scream Canister - Monster University" data-tags="Termo Scream Canister Monster University otros" data-id="p031"><img src="/moviesandseries-images/ScreamCanister.png" class="card-img-top" alt="Termo Scream Canister - Monster University" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Termo Scream Canister - Monster University</h6><p class="product-price fw-bold mb-2">$350.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p031">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p032"><div class="product-card card shadow-sm text-center" data-name="Alcancia Sin Cara - El viaje de Chihiro" data-tags="Alcancia Sin Cara El viaje de Chihiro otros" data-id="p032"><img src="/moviesandseries-images/SinCara.png" class="card-img-top" alt="Alcancia Sin Cara - El viaje de Chihiro" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Alcancia Sin Cara - El viaje de Chihiro</h6><p class="product-price fw-bold mb-2">$280.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p032">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p033"><div class="product-card card shadow-sm text-center" data-name="Slinky Dog - Toy Story" data-tags="Slinky Dog Toy Story peliculas" data-id="p033"><img src="/moviesandseries-images/slinkyDog.png" class="card-img-top" alt="Slinky Dog - Toy Story" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Slinky Dog - Toy Story</h6><p class="product-price fw-bold mb-2">$350.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p033">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p034"><div class="product-card card shadow-sm text-center" data-name="Peluche Sulley - Monster University" data-tags="Peluche Sulley Monster University peluches peliculas" data-id="p034"><img src="/moviesandseries-images/Sulley.png" class="card-img-top" alt="Peluche Sulley - Monster University" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Peluche Sulley - Monster University</h6><p class="product-price fw-bold mb-2">$250.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p034">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p035"><div class="product-card card shadow-sm text-center" data-name="Taza Gromit - Wallace Y Gromit" data-tags="Taza Gromit Wallace Y Gromit otros" data-id="p035"><img src="/moviesandseries-images/tazaGromit.png" class="card-img-top" alt="Taza Gromit - Wallace Y Gromit" /><div class="card-body p-2"><p class="card-text small mb-1 product-fandom">Peliculas y Series</p><h6 class="card-title fw-bold product-name">Taza Gromit - Wallace Y Gromit</h6><p class="product-price fw-bold mb-2">$220.00</p><button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p035">VER DETALLES</button></div></div></div>
                    <div class="col-6 col-sm-4 col-md-3 product-card-wrapper hidden-on-load" data-product-id="p036">
                    <div class="product-card card shadow-sm text-center" data-name="Funko Wendy Testaburger - South Park" data-tags="Funko Wendy Testaburger South Park series funkos" data-id="p036">
                    <img src="/moviesandseries-images/wendytestaburger.png" class="card-img-top" alt="Funko Wendy Testaburger - South Park" />
                    <div class="card-body p-2">
                    <p class="card-text small mb-1 product-fandom">Peliculas y Series</p>
                    <h6 class="card-title fw-bold product-name">Funko Wendy Testaburger - South Park</h6>
                    <p class="product-price fw-bold mb-2">$250.00</p>
                    <button class="btn btn-sm btn-outline-primary w-100 view-details-btn" data-bs-toggle="modal" data-bs-target="#productDetailModal" data-product-id="p036">VER DETALLES</button>
                    </div>
                    </div>
</div>
                  </div>

                <div class="text-center mt-4">
                    <button id="loadMoreBtn" class="btn btn-outline-primary mb-3">
                        Mostrar m√°s resultados
                    </button>
                    <button id="loadLessBtn" class="btn btn-outline-secondary mb-3" style="display:none;">
                        Mostrar menos resultados
                    </button>
                </div>
                </div>
        </div>
    </div>
</section>
                
            </div>
        </div>
    </div>
</section>
<!--contacto y footer-->
  <section id="correo" class="correo-section py-5">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-lg-6">
          <h3 class="section-title">Recibe ofertas y lanzamientos primero</h3>
          <p class="section-text">
            D√©janos tu correo para recibir preventas, cupones especiales y
            recordatorios de tus coleccionables favoritos.
          </p>
        </div>
        <div class="col-lg-6">
          <form class="newsletter-form d-flex flex-column flex-sm-row gap-2">
            <input
              type="email"
              class="form-control"
              placeholder="Tu correo electr√≥nico"
              required
            />
            <button type="submit" class="btn btn-primary">
              Suscribirme
            </button>
          </form>
          <small class="d-block mt-2 text-muted small">
            M√°s adelante aqu√≠ podr√°s iniciar sesi√≥n para pagar y ver tu historial de pedidos.
          </small>
        </div>
      </div>
    </div>
  </section>

  <section id="contacto" class="contacto-section py-5 border-top">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-6">
          <h3 class="section-title">Contacto</h3>
          <p class="section-text">
            ¬øTienes dudas sobre un producto, tu pedido o quieres sugerir nuevas
            licencias y colecciones? Escr√≠benos.
          </p>
          <ul class="list-unstyled mb-0">
            <li><strong>Email:</strong> soporte@picks.mx</li>
            <li><strong>WhatsApp:</strong> +52 466 260 9360</li>
            <li><strong>Horario:</strong> Lun a Vie, 10:00 a 18:00 hrs</li>
          </ul>
        </div>
        <div class="col-md-6">
          <form class="contact-form">
            <div class="mb-3">
              <label for="nombre" class="form-label">Nombre</label>
              <input type="text" class="form-control" id="nombre" />
            </div>
            <div class="mb-3">
              <label for="correoContacto" class="form-label">Correo</label>
              <input type="email" class="form-control" id="correoContacto" />
            </div>
            <div class="mb-3">
              <label for="mensaje" class="form-label">Mensaje</label>
              <textarea class="form-control" id="mensaje" rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-outline-primary">
              Enviar mensaje
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer py-4">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-4">
          <h5 class="mb-3">Picks</h5>
          <p class="small mb-0">
            E-commerce especializado en figuras, cartas, posters, accesorios y
            m√°s coleccionables para fans de todas las edades.
          </p>
        </div>
        <div class="col-md-4">
          <h6>Navegaci√≥n</h6>
          <ul class="list-unstyled small">
            <li><a href="#ediciones-especiales">Ediciones especiales</a></li>
            <li><a href="#ofertas">Ofertas</a></li>
            <li><a href="#correo">Correo</a></li>
            <li><a href="#contacto">Contacto</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <h6>S√≠guenos</h6>
          <ul class="list-unstyled small">
            <li>Instagram</li>
            <li>Facebook</li>
            <li>X (Twitter)</li>
          </ul>
        </div>
      </div>
      <div class="text-center small mt-3 text-muted">
        ¬© 2025 Picks. Todos los derechos reservados.
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!--MODAL DE PRODUCTOS-->
  <div class="modal fade" id="productDetailModal" tabindex="-1" aria-labelledby="productDetailModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-xl">
          <div class="modal-content product-modal-content">
              <button type="button" class="btn-close modal-close-btn" data-bs-dismiss="modal" aria-label="Close"></button>
              
              <div class="modal-body p-4 p-md-5">
                  <div class="row">
                      <div class="col-md-5">
                          <div class="product-image-preview">
                              <img id="modalProductImage" src="" alt="Imagen del Producto" class="img-fluid rounded-3" />
                          </div>
                      </div>

                      <div class="col-md-7 mt-4 mt-md-0">
                          <h1 id="modalProductName" class="modal-product-name mb-2">Nombre del articulo</h1>
                          <p class="text-muted small mb-3"><span id="modalProductFandom">Peliculas y Series</span> | <span id="modalProductTags">Figuras, Series, Edici√≥n</span></p>

                          <div class="modal-price-block mb-4">
                              <span id="modalProductPrice" class="modal-product-price fw-bold">$0.00</span>
                          </div>

                          <button id="modalAddToCartBtn" class="btn btn-primary btn-lg w-100 mb-3" data-id="" data-name="" data-price="">
                              üõí A√±adir al Carrito
                          </button>
                          
                          <div class="accordion" id="productDetailsAccordion">
                              <div class="accordion-item">
                                  <h2 class="accordion-header" id="headingOne">
                                      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                          Detalles del Producto y Contenido
                                      </button>
                                  </h2>
                                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#productDetailsAccordion">
                                      <div class="accordion-body">
                                          <p id="modalProductDescription">Art√≠culo de utiler√≠a con materiales pesados y acabados realistas. Incluye certificado de autenticidad y estuche de lujo con placa para exhibir.</p>
                                          <ul>
                                            
                                              <li>SKU: SKU-001</li>
                                          </ul>
                                      </div>
                                  </div>
                              </div>
                              <div class="accordion-item">
                                  <h2 class="accordion-header" id="headingTwo">
                                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                          Informaci√≥n de Env√≠o y Devoluciones
                                      </button>
                                  </h2>
                                  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#productDetailsAccordion">
                                      <div class="accordion-body">
                                          <p>Env√≠o a todo M√©xico en 3-5 d√≠as h√°biles. Costo de env√≠o se calcula al finalizar la compra. Devoluciones aceptadas solo si el producto llega da√±ado y sin abrir.</p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>


  <script>
    document.addEventListener("DOMContentLoaded", () => {
        // =======================================================
        // I. VARIABLES Y ELEMENTOS GLOBALES
        // =======================================================

        // NAVBAR Y BUSCADOR
        const searchTrigger  = document.getElementById("searchTrigger");
        const searchOverlay  = document.getElementById("searchOverlay");
        const searchInput    = document.getElementById("searchInput");
        const searchClose    = document.getElementById("searchClose");
        
        // CARRITO
        const cartTrigger        = document.getElementById("cartTrigger");
        const cartOverlay        = document.getElementById("cartOverlay");
        const cartClose          = document.getElementById("cartClose");
        const cartItemsContainer = document.getElementById("cartItems");
        const cartTotalElement   = document.getElementById("cartTotal");
        const cartCountElement   = document.getElementById("cartCount");
        let cart = [];
       // PRODUCTOS Y MOSTRAR M√ÅS
const cardWrappers = document.querySelectorAll(".product-grid .product-card-wrapper"); // Cambiado a product-card-wrapper para mayor precisi√≥n
const loadMoreBtn = document.getElementById("loadMoreBtn");
const loadLessBtn = document.getElementById("loadLessBtn"); 
const currentCountSpan = document.querySelector(".text-muted.small");

const INITIAL_COUNT = 12;      // N√∫mero inicial de tarjetas a mostrar
const STEP_COUNT = 12;         // Cu√°ntas tarjetas se muestran/ocultan por clic
const TOTAL_COUNT = 36;        // <-- MODIFICADO a 36
let currentlyVisible = INITIAL_COUNT;

// Funci√≥n para actualizar el texto de "Mostrando X de Y resultados"
const updateHeaderCount = () => {
    if (currentCountSpan) {
        currentCountSpan.textContent = `Mostrando ${currentlyVisible} de ${TOTAL_COUNT} resultados`;
    }
};

// Funci√≥n para mostrar/ocultar tarjetas y botones
const toggleCardsAndButtons = () => {
    // 1. Mostrar/Ocultar tarjetas
    cardWrappers.forEach((wrapper, index) => {
        if (index < currentlyVisible) {
            wrapper.classList.remove('hidden-on-load');
        } else {
            wrapper.classList.add('hidden-on-load');
        }
    });

    // 2. Actualizar contador en la cabecera
    updateHeaderCount();

    // 3. Controlar visibilidad de botones
    if (loadMoreBtn) {
        // Ocultar "Mostrar M√°s" si ya se muestran todas las tarjetas
        if (currentlyVisible >= TOTAL_COUNT) {
            loadMoreBtn.style.display = 'none';
        } else {
            loadMoreBtn.style.display = 'block';
        }
    }

    if (loadLessBtn) {
        // Mostrar "Mostrar Menos" si se han mostrado m√°s del conteo inicial
        if (currentlyVisible > INITIAL_COUNT) {
            loadLessBtn.style.display = 'block';
        } else {
            loadLessBtn.style.display = 'none';
        }
    }

    // Si se muestran todas las tarjetas, forzar a que se vea "Mostrar Menos"
    // (√ötil si se cargaron todas las tarjetas desde el inicio)
    if (currentlyVisible === TOTAL_COUNT && currentlyVisible > INITIAL_COUNT) {
        loadLessBtn.style.display = 'block';
    }
};

// Listener para "Mostrar M√°s"
if (loadMoreBtn) {
    loadMoreBtn.addEventListener('click', () => {
        // Aumentar el contador, asegur√°ndose de no pasar el TOTAL_COUNT
        currentlyVisible = Math.min(currentlyVisible + STEP_COUNT, TOTAL_COUNT);
        toggleCardsAndButtons();
    });
}

// Listener para "Mostrar Menos"
if (loadLessBtn) {
    loadLessBtn.addEventListener('click', () => {
        // Disminuir el contador, asegur√°ndose de no bajar del INITIAL_COUNT
        currentlyVisible = Math.max(currentlyVisible - STEP_COUNT, INITIAL_COUNT);
        toggleCardsAndButtons();
    });
}

// Inicializar: mostrar las tarjetas iniciales y configurar botones
toggleCardsAndButtons();
        // =======================================================
        // III. FUNCIONALIDAD DEL MODAL DE DETALLES
        // =======================================================

        document.querySelectorAll('.view-details-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                // Encuentra la tarjeta padre m√°s cercana
                const card = e.target.closest('.product-card');
                if (!card) return;
// 1. Obtener datos de la tarjeta
const id = card.dataset.id || e.target.dataset.productId;
const name = card.dataset.name || 'Producto Desconocido';
const priceText = card.querySelector('.product-price').textContent;

// arrastre de precios para el modal
let cleanedPriceText = priceText.replace('$', '').replace('MXN', '').trim();

cleanedPriceText = cleanedPriceText.replace(/,/g, ''); 

const price = parseFloat(cleanedPriceText) || 0; 

const imageSrc = card.querySelector('.card-img-top').src;
// ...
                // 2. Llenar el Modal
                modalProductName.textContent = name;
                modalProductPrice.textContent = formatPrice(price);
                modalProductImage.src = imageSrc;
                
                // Llenar el bot√≥n de "A√±adir al carrito" en el modal
                modalAddToCartBtn.dataset.id = id;
                modalAddToCartBtn.dataset.name = name;
                modalAddToCartBtn.dataset.price = price.toFixed(2);

                // Llenar tags y descripci√≥n (usando datos de placeholder)
                document.getElementById('modalProductTags').textContent = tags.split(' ').map(t => t.charAt(0).toUpperCase() + t.slice(1)).join(', ');
                modalProductDescription.innerHTML = `
                    Descripci√≥n detallada: Este coleccionable de ${name} es una edici√≥n de ${id.substring(1)} de 35. 
                    Ideal para coleccionistas. El formato es Vinilo LP de 180g.
                    <br>
                    **Contenido Exclusivo:**
                    <ul>
                        <li>√Ålbum ${name}</li>
                        <li>Libreto de canciones</li>
                        <li>P√≥ster oficial o Tarjeta de foto aleatoria</li>
                    </ul>
                `;
                document.getElementById('modalProductArtist').textContent = name.split(' ')[0];
            });
        });

        // Delegar el evento de a√±adir al carrito al bot√≥n del modal
        if(modalAddToCartBtn) {
            modalAddToCartBtn.addEventListener("click", () => {
                const id = modalAddToCartBtn.dataset.id;
                const name = modalAddToCartBtn.dataset.name;
                const price = parseFloat(modalAddToCartBtn.dataset.price || "0");

                if (!id || !name) return;

                const existing = cart.find(item => item.id === id);
                if (existing) {
                    existing.qty += 1;
                } else {
                    cart.push({ id, name, price, qty: 1 });
                }

                updateCartUI();
                openCart();
            });
        }
        // IV. PUBLICIDAD ROTATIVA
const adContainer = document.getElementById('rotatingAds');
const ads = [
    { 
        title: "¬°Meses Gratis!", 
        text: "Suscr√≠bete ahora a **Crunchyroll** para ver tus animes favoritos. ¬°Reg√≠strate!",
        link: "https://www.crunchyroll.com/es/",
        image: "/images/crunchyroll.png"
    },
    { 
         title: "Mercanc√≠a Oficial", 
        text: "Items exclusivos. ¬°Compra ya!",
        link: "https://www.pokemoncenter.com.mx/",
        image: "/images/cartasPokemon.png" 
    },
    { 
        title: "Mercanc√≠a Oficial K-Pop ‚ú®", 
        text: "Lightsticks y √°lbumes con photocard exclusivos. ¬°Compra ya!",
        link: "https://www.ktown4u.com/",
        image:"/images/photocards.png" 
    }
];

let currentAdIndex = 0;

const renderAds = () => {
    if (!adContainer) return;
    
    adContainer.innerHTML = ads.map((ad, index) => `
        <a href="${ad.link}" target="_blank" class="ad-slide ${index === 0 ? 'active' : ''}">
            <div class="ad-content">
                <h5>${ad.title}</h5>
                <p>${ad.text}</p>
                <span class="btn btn-sm btn-light mt-3">Ver Oferta</span>
            </div>
             <img src="${ad.image}" alt="${ad.title}" class="ad-image" />
        </a>
    `).join('');
};

const rotateAd = () => {
    const slides = document.querySelectorAll('.ad-slide');
    if (slides.length === 0) return;

    // Ocultar el anuncio actual
    slides[currentAdIndex].classList.remove('active');

    // Calcular el siguiente √≠ndice
    currentAdIndex = (currentAdIndex + 1) % ads.length;

    // Mostrar el siguiente anuncio
    slides[currentAdIndex].classList.add('active');
};

if (adContainer && ads.length > 0) {
    renderAds();
    // Cambiar el anuncio cada 5 segundos
    setInterval(rotateAd, 5000); 
}
// =======================================================
// V. FUNCIONALIDAD DEL FILTRO DE PRODUCTOS
// (Para solucionar la nota: "falta arreglar el filtro ya que aun no sirve correctamente")
// =======================================================
const filterLinks = document.querySelectorAll(".sidebar-filters .sidebar-link");
const allProducts = document.querySelectorAll(".product-grid .product-card-wrapper");

// NOTA: Aseg√∫rate de que tu funci√≥n 'normalize' est√© definida arriba.

filterLinks.forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();

        // 1. Obtener el filtro (tag) y normalizarlo
        const filterText = link.textContent.trim();
        const filterTag = normalize(filterText);

        //Definir Todo como la condici√≥n de reseteo
        
        const isResetFilter = (filterTag == 'todos');
        // **[FIN DEL CAMBIO PARA RESETEAR EL FILTRO]**

        // 2. Manejar la clase 'active' para los enlaces (apariencia visual)
        filterLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        //Variables para el conteo de coincidencias
        let matches = 0;

        // 3. Iterar sobre todos los productos para mostrar/ocultar
        allProducts.forEach(productWrapper => {
            const productCard = productWrapper.querySelector('.product-card');
            if (!productCard) return;

            // **[L√ìGICA DE RESETEO]**
            if (isResetFilter) {
                // Si es el filtro de reseteo ("Todos"), simplemente mostramos el producto y terminamos la iteraci√≥n.
                productWrapper.classList.remove('hidden-by-search');
                //re-aplicar la l√≥gica  de "Mostrar m√°s/menos"
                
                return; 
            }

            // L√≥gica de filtrado para etiquetas espec√≠ficas (solo si NO es el bot√≥n de reseteo)
            const productTags = productCard.dataset.tags ? normalize(productCard.dataset.tags) : '';
            const shouldShow = productTags.includes(filterTag);
            

            // 4. Mostrar u ocultar el producto usando la clase CSS `hidden-by-search`
            if (shouldShow) {
              //Muestra el producto
                productWrapper.classList.remove('hidden-by-search');
                productWrapper.classList.remove('hidden-on-load');//Muestra incluso si esta oculto
                matches++;
            } else {
                productWrapper.classList.add('hidden-by-search');
                productWrapper.classList.add('hidden-on-load');
            }
        });
        //5.ACTUALIZA CONTEO Y BOTONES DE PAGINACION
        if(isResetFilter){
          currentlyVisible=INITIAL_COUNT;
          toggleCardsAndButtons();
          if(loadMoreBtn)loadMoreBtn.style.display = 'block';
        }else{
          currentlyVisible = matches;
          if(currentCountSpan){
            currentCountSpan.textContent = `Mostrando ${matches} de ${TOTAL_COUNT} resultados (Filtrados)`;
          }
          //Oculta los botones de "Mostrar mas/menos" cuando se usa un filtro
          if (loadMoreBtn) loadMoreBtn.style.display = 'none';
          if(loadLessBtn) loadLessBtn.style.display = 'none';
        }
    });
});
        // BUSCADOR Y CARRITO
        function normalize(str) {
            return str
                .toLowerCase()
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "");
        }

        function formatPrice(value) {
            return "MXN$" + parseFloat(value).toFixed(2);
        }

        /* ========= BUSCADOR: abrir/cerrar overlay ========= */
        function openSearchOverlay() {
            if (!searchOverlay) return;
            searchOverlay.classList.add("open");
            setTimeout(() => {
                if (searchInput) searchInput.focus();
            }, 50);
        }

        function closeSearchOverlay() {
            if (!searchOverlay) return;
            searchOverlay.classList.remove("open");
            if (searchInput) searchInput.value = "";
            
            // reset resultados
            cardWrappers.forEach(wrapper => {
                wrapper.classList.remove("hidden-by-search");
                // Restaurar el estado inicial de "Mostrar M√°s"
                const index = Array.from(cardWrappers).indexOf(wrapper);
                if (index >= INITIAL_COUNT) {
                    wrapper.classList.add("hidden-on-load"); 
                }
            });
            currentlyVisible = INITIAL_COUNT;
            updateHeaderCount();
            if (loadMoreBtn) {
                loadMoreBtn.style.display = 'block';
                loadMoreBtn.textContent = 'Mostrar M√°s';
                loadMoreBtn.disabled = false;
            }
        }

        if (searchTrigger) {
            searchTrigger.addEventListener("click", openSearchOverlay);
        }

        if (searchClose) {
            searchClose.addEventListener("click", closeSearchOverlay);
        }

        if (searchOverlay) {
            searchOverlay.addEventListener("click", (e) => {
                if (e.target.classList.contains("search-overlay-backdrop")) {
                    closeSearchOverlay();
                }
            });
        }

        // Filtrado de productos mientras se escribe
        if (searchInput) {
            searchInput.addEventListener("input", () => {
                const query = normalize(searchInput.value.trim());
                let matches = 0;

                cardWrappers.forEach(wrapper => {
                    const card = wrapper.querySelector(".product-card");
                    if (!card) return;

                    const name = card.dataset.name || "";
                    const tags = card.dataset.tags || "";
                    const haystack = normalize(name + " " + tags);

                    if (query === "" || haystack.includes(query)) {
                        // Mostrar si coincide, eliminando ambas clases de ocultamiento
                        wrapper.classList.remove("hidden-by-search");
                        wrapper.classList.remove("hidden-on-load"); 
                        matches++;
                    } else {
                        // Ocultar si no coincide
                        wrapper.classList.add("hidden-by-search");
                    }
                });
                
                // Actualizar contador con los resultados de la b√∫squeda
                if (query !== "") {
                    currentCountSpan.textContent = `Mostrando ${matches} de ${TOTAL_COUNT} resultados (Filtrados)`;
                    if (loadMoreBtn) loadMoreBtn.style.display = 'none';
                } else {
                    closeSearchOverlay(); // Restaura el estado inicial de 12
                }
            });
        }
        /* ========= CARRITO: helpers y eventos ========= */
        function updateCartUI() {
            if (!cartItemsContainer || !cartTotalElement || !cartCountElement) return;

            if (cart.length === 0) {
                cartItemsContainer.classList.add("cart-items-empty");
                cartItemsContainer.innerHTML = "Tu carrito est√° vac√≠o.";
                cartTotalElement.textContent = "MXN$0.00";
                cartCountElement.textContent = "0";
                return;
            }

            cartItemsContainer.classList.remove("cart-items-empty");

            cartItemsContainer.innerHTML = cart
            .map(item => `
                <div class="cart-item" data-id="${item.id}">
                <div class="cart-item-info">
                    <p class="cart-item-name">${item.name}</p>
                    <p class="cart-item-price">${formatPrice(item.price)} x ${item.qty}</p>
                </div>
                <div class="cart-item-actions">
                    <button type="button" class="cart-qty-btn cart-qty-minus" data-id="${item.id}">-</button>
                    <span class="cart-qty">${item.qty}</span>
                    <button type="button" class="cart-qty-btn cart-qty-plus" data-id="${item.id}">+</button>
                    <button type="button" class="cart-remove" data-id="${item.id}">‚úï</button>
                </div>
                </div>
            `)
            .join("");

            const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
            cartTotalElement.textContent = formatPrice(total);

            const count = cart.reduce((sum, item) => sum + item.qty, 0);
            cartCountElement.textContent = count.toString();
        }

        function openCart() {
            if (!cartOverlay) return;
            cartOverlay.classList.add("open");
        }

        function closeCart() {
            if (!cartOverlay) return;
            cartOverlay.classList.remove("open");
        }

        if (cartTrigger) {
            cartTrigger.addEventListener("click", openCart);
        }

        if (cartClose) {
            cartClose.addEventListener("click", closeCart);
        }

        if (cartOverlay) {
            cartOverlay.addEventListener("click", (e) => {
                if (e.target.classList.contains("cart-backdrop")) {
                    closeCart();
                }
            });
        }
        // Manejar +, -, eliminar dentro del carrito
        if (cartItemsContainer) {
            cartItemsContainer.addEventListener("click", (e) => {
            const target = e.target;
            const id = target.dataset.id;
            if (!id) return;

            const item = cart.find(i => i.id === id);
            if (!item) return;

            if (target.classList.contains("cart-qty-plus")) {
                item.qty += 1;
            } else if (target.classList.contains("cart-qty-minus")) {
                item.qty -= 1;
                if (item.qty <= 0) {
                cart = cart.filter(i => i.id !== id);
                }
            } else if (target.classList.contains("cart-remove")) {
                cart = cart.filter(i => i.id !== id);
            }

            updateCartUI();
            });
        }
        // Cerrar overlays con ESC
        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") {
            if (searchOverlay && searchOverlay.classList.contains("open")) {
                closeSearchOverlay();
            }
            if (cartOverlay && cartOverlay.classList.contains("open")) {
                closeCart();
            }
            }
        });
        // Inicializar carrito
        updateCartUI();
    });
  </script> 
</body>
</html>